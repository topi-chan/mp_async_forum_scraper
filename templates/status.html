<!-- templates/status.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Scraping Status</title>
    {% if status == "in_progress" %}
    <!-- Refresh the page every 15 seconds -->
    <meta http-equiv="refresh" content="15">
    {% endif %}
</head>
<body>
    {% if status == "in_progress" %}
    <h1>A scraping process is already in progress.</h1>
    <p>Please wait while we process your request. This page will refresh automatically.</p>
    {% elif status == "complete" %}
    <h1>Scraping complete!</h1>
    {% if last_modified %}
    <p>Results were generated on: {{ last_modified | datetimeformat }}</p>
    {% endif %}
    <p>You can download the results below:</p>
    <a href="/download">Download Results</a>
    <p>If you wish to start a new scraping session, you can do so below:</p>
    <form action="/scrape" method="post">
        <button type="submit">Start New Scrape</button>
    </form>
    {% elif status == "not_started" %}
    <h1>No scraping results available.</h1>
    <p>You can start a new scraping session below:</p>
    <form action="/scrape" method="post">
        <button type="submit">Start Scraping</button>
    </form>
    {% else %}
    <h1>Status Unknown</h1>
    <p>Unable to determine the status of your request.</p>
    {% endif %}
</body>
</html>
